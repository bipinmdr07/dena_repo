console.log("hi");

var td = $('td').filter(function(){
    return ($(this).text() === 'Archive' || $(this).text() === 'Unarchive') && $(this).parent().is("#card_<%= params[:card_id] %>");
})

console.log(td);

<% if @card.archived %>
  var text = "<%= escape_javascript link_to 'Unarchive', card_archive_path(card_id: @card.id), method: :patch, class: 'btn btn-success btn-fixed-archive', remote: true %>"
<% else %>
  var text = "<%= escape_javascript link_to 'Archive', card_archive_path(card_id: @card.id), method: :patch, class: 'btn btn-danger btn-fixed-archive', remote: true %>"
<% end %>

console.log(text);

td.html(text);

// td.fadeOut(400, function(){
//   td.html(text);
// }

// var td = $('td').filter(function(){
//     return $(this).text() === 'Archive' && $(this).parent().is("#card_66")
// })


// tr.fadeOut(400, function(){
//     tr.remove();
// });